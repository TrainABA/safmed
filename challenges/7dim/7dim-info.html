<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>TrainABA SAFMED App - Free and Open Source Framework</title>

    <!-- The next three lines are part of the safmed JS variables -->
    <link rel="stylesheet" href="../../css/cards.css" media="screen" title="no title">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="../../js/cards.js" type="text/javascript"></script>

    <!-- Bootstrap core CSS -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="../../css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../../css/sticky-footer-navbar.css" rel="stylesheet">

    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="../../js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

<style> body { 
	background: #113; 
	margin: 30px; 
	margin-bottom: 60px;
	color: white;
	
	font: normal 16px Helvetica,Verdana;
	letter-spacing: 0px;
	text-align: center;
}

#countdownText { 
	font:  12px Calibri,Helvetica,Verdana;
	color: orange;
	letter-spacing: 1px;
	margin-bottom: 5px;
}

#countdownGraph {  padding: 10px; }

/* Customize container */
@media (min-width: 768px) {
  .containerSafmed {
    max-width: 730px;
  }
}
.container-narrow > hr {
  margin: 30px 0;
}

</style> 
  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">TrainABA safmed app |</a>
        </div>
<!--        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li role="separator" class="divider"></li>
                <li class="dropdown-header">Nav header</li>
                <li><a href="#">Separated link</a></li>
                <li><a href="#">One more separated link</a></li>
              </ul>
            </li>
          </ul>
        </div><!--/.nav-collapse -->
      </div><!--/.container-->
    </nav>

<!-- Begin page content -->

<div class="container-fluid">
      <div class="page-header">
<!--        <button type="button" id="countdownGraph" style="color:black;" class="btn btn-warning btn-lg active show-000">INFORMATION</button>-->
      </div>
</div>





<!--Timer here at block level-
<div id="countdownText"></div>
<div id="countdownGraph">
	<canvas id="countdownGraphCanvas"></canvas>
</div>
-->


<!--SAFMED content when user begins challenge-->
<!--first row-->

<div class="container-fluid" style="background-color:#113;">      
<!--   <h1>Enter the "7 Dimensions" Challenge</h1>-->
   <h1>"Seven Dimensions of ABA"</h1>
<h2>Flashcard Set</h2>
<p style="margin:5px; padding:5px;"><i>Benjamin J. Theisen</i><p>


<!-- Button trigger modal -->
<button type="button" class="btn btn-primary btn-lg active" data-toggle="modal" data-target="#myModal"><span class="glyphicon glyphicon-play" aria-hidden="true"></span> Play</button>

<!--<button type="button" class="btn btn-danger btn-lg" data-toggle="modal" data-target="#myModal">
  <h2>START</h2>
</button>


<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="background-color:#333311; text-align:left;">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title" id="myModalLabel">On the next screen:</h3>
      </div>
      <div class="modal-body">
<ol>
<li>Click blue button <a type="button" class="btn btn-primary btn-sm" role="button">
       <span class="glyphicon glyphicon-play" aria-hidden="true"></span> Play</a>.</li>
<li>A green box appears. It has a key term <a type="button" class="btn btn-success btn-sm">(key term)</a>. This is your flashcard.</li>
<li>Define the key term mentally or vocally. Timer counts 1 minute.</li>
<li>Tap green box to show answer.</li>
</ol>
<p>Keep going! Click "Add Card" <a href="" class="btn btn-danger btn-xs" role="button">Add Card
       <span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a> to practice.</p>

<p>Enjoy your SAFMEDs and please share with a friend.</p>
      </div>
      <div class="modal-footer">
<!--        <button type="button" class="btn btn-default" data-dismiss="modal">Back</button> -->
        <a role="button" href="7dim-a.html" class="btn btn-primary btn-large"><h3>Go to First Card</h3></a>
      </div>
    </div>
  </div>
</div>

<p>Total flashcards in set = 8</p>
<p><i>Green buttons locked below. Red button unlocks.</i></p>
<!-- found after adding modal. it's part of original.-->
  <hr> 
 <div class="row"> 

<!--incrementing.begins with easiest first -->

     <div class="col-sm-3"> 
       <button type="button" class="show-001 btn btn-success btn-block active">7 Dimensions</button>
<!--       <p class="001 item">Applied, behavioral, analytic, technological, conceptually systematic, effective, generality</p>-->
     </div>

     <div class="col-sm-3">
      <button type="button" class="show-002 btn btn-success btn-block active" >Applied</button>     
<!--       <p class="002 item">Target socially significant behavior</p>-->
     </div>   

     <div class="col-sm-3"> 
       <button type="button" class="show-003 btn btn-success btn-block active">Behavior</button>
<!--       <p class="003 item">Target measurable activity of living organisms for systematic intervention</p>-->
     </div>

     <div class="col-sm-3">
      <button type="button" class="show-004 btn btn-success btn-block active" >Analytic</button>     
<!--       <p class="004 item">Achieved when behavior is controlled; functional relation</p> -->
     </div>   

   </div><!--end of row-->
</div>


<!--second row-->
<div class="container-fluid ">
   <div class="row">
     <div class="col-sm-3"> 
       <button type="button" class="show-005 btn btn-success btn-block active">Technological</button>
<!--       <p class="005 item">All procedures identified and described sufficiently</p>-->
     </div>
     <div class="col-sm-3">
      <button type="button" class="show-006 btn btn-success btn-block active" >Conceptually systematic</button>     
<!--       <p class="006 item">Use behavior analytic principles to create behavior change</p>-->
     </div>   
     <div class="col-sm-3"> 
       <button type="button" class="show-007 btn btn-success btn-block active">Effective</button>
<!--       <p class="007 item">Improve behavior to a practical degree</p>-->
     </div>
     <div class="col-sm-3">
      <button type="button" class="show-008 btn btn-success btn-block active" >Generality</button>     
<!--       <p class="008 item">change sustains, appears in novel environments or behaviors</p>-->
     </div>   
  </div>
</div>



<div class="container">
	<div class="row">
	</div>
</div>
	
<div class="container">
	<div class="row">
	</div>
</div>



<!--Timer JavaScript below this line-->

<script src="../../js/jquery-2.0.3.min.js"></script>
<script type="text/javascript">
var canvas;
var ctx;
var isTimerRunning = false;
var finished = false;
var startTime = 0;
var endTime = 0;

function drawPieAt(x, y, radius, startRadian, finishRadian, color) {
	ctx.fillStyle = color
	ctx.beginPath();
	ctx.arc(x, y, radius, startRadian, finishRadian, false );
	ctx.lineTo(x, y);
	ctx.closePath();
	ctx.fill();
}

// Draws a slice of a pie chart clockwise, 0 = 12pm, 0.5 = 6pm
function drawPie(start, finish, color) {

	var canvas_size = [canvas.width, canvas.height];
	var radius = Math.min(canvas_size[0], canvas_size[1]) / 2;
	var center = [canvas_size[0]/2, canvas_size[1]/2];
	
	// Rotate from 12pm to 3pm and convert to radians
	start = (start + 0.75) % 1;
	var startRadian = start * 2 * Math.PI;
	finish = (finish + 0.75) % 1;
	var finishRadian = finish * 2 * Math.PI;
	
	drawPieAt( center[0], center[1], radius, startRadian, finishRadian, color );
}

function clearCanvas() {
	ctx.clearRect( 0, 0, canvas.width, canvas.height );
}


var greenGradient, redGradient, yellowGradient, darkBlueGradient;

function initGraphics() {

	if ( canvas ) return;

	console.log("initializing");

	var width = 150; 
	canvas = document.getElementById("countdownGraphCanvas");
	if ( !canvas.getContext ) { return; }
	ctx = canvas.getContext("2d");
	canvas.width = canvas.height = width;

	greenGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
	greenGradient.addColorStop(0, '#bdc');
	greenGradient.addColorStop(1, '#6d8');

	redGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
	redGradient.addColorStop(0, '#f45');
	redGradient.addColorStop(1, '#834');

	yellowGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
	yellowGradient.addColorStop(0, '#de6');
	yellowGradient.addColorStop(1, '#a93');

	darkBlueGradient = ctx.createLinearGradient(0, 0, 0, canvas.height);
	darkBlueGradient.addColorStop(0, '#548');
	darkBlueGradient.addColorStop(1, '#215');

}

function updateGraph() {

	initGraphics();
	
	var completed = darkBlueGradient;
	var remainingGreen = greenGradient
	var remainingYellow = yellowGradient;
	var remainingRed = redGradient;
	var start = greenGradient;
	var end = redGradient;

	
	var now = new Date().getTime();
	
	// If the countdown is over draw the completed circle
	if ( now > endTime ) {
		if ( finished ) fullCircle(end);
		else fullCircle( start );
		return;
	}
	
	var pctDone = (now - startTime) / (endTime - startTime);
	if ( pctDone < 0.005 ) {
		fullCircle( remainingGreen );
		return;
	}
	
	var remaining = remainingGreen;
	if ( pctDone >= 0.75 ) remaining = remainingYellow;
	if ( pctDone >= 0.9 ) remaining = remainingRed;
	
	clearCanvas();
	drawPie( 0, pctDone, completed );
	drawPie( pctDone, 0, remaining );
	
}

function fullCircle(color) {
		drawPie( 0, 0.5, color );
		drawPie( 0.5, 0, color );
}


function countdown() {
	
	// Bail if timer is stopped
	if ( ! isTimerRunning ) { return; }
	
	var margin = 0.25;
	var now = new Date().getTime() + margin;
	if ( endTime < now ) {
		finish();
		return; 
	}
	
	var text = getCountdownText(endTime - now);
	$("#countdownText").text( text );
	
	updateGraph();
	
	var remaining = 1000 - (new Date().getTime() % 1000);
	setTimeout( countdown, remaining );
}


function getCountdownText(remainingMsecs) {
	var remainingSecs = Math.floor(remainingMsecs / 1000);
	var remainingMinutes = Math.floor(remainingSecs / 60);
	
	if ( remainingMinutes < 1 ) {
		if ( remainingSecs > 10 ) { 
			return "> " + (remainingSecs -= (remainingSecs % 10)) + " seconds left"
		}
		else {
			return remainingSecs;
		}
	}
	else {
		return "> " + remainingMinutes + " minutes left";
	}		
}



function getTimerDuration() { return window.location.hash.slice(1) || 1  }


function start() {

	initGraphics();

	isTimerRunning = true;
	
	var minutes = getTimerDuration();
	var duration = minutes * 60 * 1000;
	var now = new Date().getTime();
	startTime = now + (1000 - now % 1000);
	endTime = startTime + duration;
	
	var remaining = 1000 - (now % 1000);
	setTimeout( countdown, remaining );
}


function finish() {
	isTimerRunning = false;
	finished = true;
	$("#countdownText").html("STOP");
	updateGraph();
}


$(document).ready( function() {

	$("#countdownText").text(getTimerDuration() + " minute countdown");

	//document.title = getTimerDuration() + "m timer";
	
	$("#countdownGraph").click( function() {
		if ( isTimerRunning || finished ) { console.log('reloading'); window.location.reload(); }
		else { start(); }
	});

	updateGraph();

});


</script>

 

    <footer class="footer">
      <div class="container">
         <p class="text-muted">TrainABA, Inc. 2013-2017. <a href="https://opensource.org/licenses/MIT">MIT</a> license. ABSOLUTELY NO WARRANTY, NO GUARANTEE, NO BACB AFFILIATION.</p>
      </div>
    </footer>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../js/vendor/jquery.min.js"><\/script>')</script>
    <script src="../../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
